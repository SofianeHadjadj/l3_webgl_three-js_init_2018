<!DOCTYPE html>
<html lang="en">
  <head>

    <title>~UE 3DW19 - Semaine 1</title>
    
    <style>
      * { margin: 0; padding: 0; overflow: auto; }
      html, body {max-width: 100%; max-height: 100%}
    </style>

  </head>

  <body>
    
    <script src="three/three.min.js"></script>

    <script>

      // Déclaration des variables d'initialisation

      var scene = new THREE.Scene();
      var camera = new THREE.PerspectiveCamera( 50, window.innerWidth/window.innerHeight, 1, 1000 );
      var clock = new THREE.Clock();
      var renderer = new THREE.WebGLRenderer();
      renderer.setSize( window.innerWidth, window.innerHeight );
      document.body.appendChild( renderer.domElement );

      // Création du cylindre :

      var geometry = new THREE.SphereGeometry( 5, 34, 34 );
      var material = new THREE.MeshNormalMaterial({wireframe: true});
      var sphere = new THREE.Mesh( geometry, material );
      scene.add( sphere );

      // Ajout des éléments en orbite :

      var cylindre = new THREE.Object3D();
      sphere.add(cylindre);  

      var cube = new THREE.Object3D();
      sphere.add(cube);

      var donut = new THREE.Object3D();
      sphere.add(donut);

      // Placement de la caméra :

      camera.position.z = 30;

      // Animation de l'objet :

      var animate = function () {
        requestAnimationFrame( animate );

        sphere.rotateX(-0.001);
        sphere.rotateY(-0.01);

        var delta = clock.getDelta();

        /* Cylindre */
        // Création du cylindre : 

        var cylShape = new THREE.CylinderGeometry(1,1,2);
        var cylStruc = new THREE.MeshNormalMaterial({wireframe: true});
        var cylinder = new THREE.Mesh(cylShape, cylStruc);
        cylindre.add(cylinder);      

        // Mise en orbite du cylindre

        var cylTime= clock.getElapsedTime() * 2;
        cylindre.position.x = Math.cos( cylTime ) * 10;
        cylindre.position.z = Math.sin( cylTime ) * 10;  

        /* Cube */
        // Création du cube : 

        var cubeShape = new THREE.BoxGeometry(1,1,1);
        var cubeStruc = new THREE.MeshNormalMaterial({wireframe: true});
        var box = new THREE.Mesh(cubeShape, cubeStruc);
        cube.add(box);      

        // Mise en orbite du cube

        var cubeTime= clock.getElapsedTime() * 4;
        cube.position.x = Math.cos( cubeTime ) * 6;
        cube.position.z = Math.sin( cubeTime ) * 6;  

        /* Torus */
        // Création du torus : 

        var torShape = new THREE.TorusGeometry(1,0.6,0.9);
        var torStruc = new THREE.MeshNormalMaterial({wireframe: true});
        var torus = new THREE.Mesh(torShape, torStruc);
        donut.add(torus);     

        // Mise en orbite du torus

        var torusTime= clock.getElapsedTime() * 3;
        donut.position.x = Math.cos( torusTime ) * 14;
        donut.position.z = Math.sin( torusTime ) * 14; 

        renderer.render(scene, camera);
      };

      animate();
    </script>

  </body>
</html>
